basePath: /api/v1
definitions:
  controllers.MenuInput:
    properties:
      description:
        type: string
      items:
        items:
          type: integer
        type: array
      name:
        type: string
      price:
        type: number
    type: object
  models.Commande:
    properties:
      created_at:
        type: string
      id:
        type: integer
      menus:
        items:
          $ref: '#/definitions/models.CommandeMenu'
        type: array
      price:
        type: number
      products:
        items:
          $ref: '#/definitions/models.CommandeProduct'
        type: array
      status:
        $ref: '#/definitions/models.StatusType'
      updated_at:
        type: string
    type: object
  models.CommandeMenu:
    properties:
      commande_id:
        type: integer
      created_at:
        type: string
      description:
        type: string
      id:
        type: integer
      image_url:
        type: string
      menu_id:
        type: integer
      name:
        type: string
      price:
        type: number
      updated_at:
        type: string
    type: object
  models.CommandeProduct:
    properties:
      commande_id:
        type: integer
      created_at:
        type: string
      description:
        type: string
      id:
        type: integer
      image_url:
        type: string
      name:
        type: string
      price:
        type: number
      product_id:
        type: integer
      type:
        $ref: '#/definitions/models.TypeProduct'
      updated_at:
        type: string
    type: object
  models.Menu:
    description: Menu with its items
    properties:
      created_at:
        type: string
      description:
        type: string
      id:
        type: integer
      image_url:
        type: string
      menu_items:
        items:
          $ref: '#/definitions/models.MenuItem'
        type: array
      name:
        type: string
      price:
        type: number
      updated_at:
        type: string
    type: object
  models.MenuItem:
    properties:
      created_at:
        type: string
      description:
        type: string
      id:
        type: integer
      image_url:
        type: string
      menu_id:
        type: integer
      name:
        type: string
      price:
        type: number
      type:
        $ref: '#/definitions/models.TypeProduct'
      updated_at:
        type: string
    type: object
  models.Product:
    properties:
      available:
        example: true
        type: boolean
      created_at:
        type: string
      description:
        example: Une délicieuse salade composée de laitue, poulet grillé, croûtons
          et parmesan.
        type: string
      id:
        example: 1
        type: integer
      image_url:
        example: https://example.com/images/salade-cesar.jpg
        type: string
      name:
        example: Salade César
        type: string
      price:
        example: 9.99
        type: number
      type:
        allOf:
        - $ref: '#/definitions/models.TypeProduct'
        example: entree
      updated_at:
        type: string
    type: object
  models.StatusType:
    enum:
    - pending
    - preparing
    - ready
    - delivered
    type: string
    x-enum-varnames:
    - StatusPending
    - StatusPreparing
    - StatusReady
    - StatusDelivered
  models.TypeProduct:
    enum:
    - entree
    - plat
    - dessert
    - boisson
    type: string
    x-enum-varnames:
    - TypeEntree
    - TypePlat
    - TypeDessert
    - TypeBoisson
  models.User:
    type: object
  models.UserRole:
    enum:
    - admin
    - preparer
    - receiver
    type: string
    x-enum-varnames:
    - RoleAdmin
    - RolePreparer
    - RoleReceiver
host: localhost:8080
info:
  contact: {}
  description: API du projet LearningCampusKabre
  title: Learning Campus API
  version: "1.0"
paths:
  /api/commandes:
    get:
      consumes:
      - application/json
      description: Get all commandes with their associated menus and products
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.Commande'
      summary: Get all commandes
      tags:
      - commandes
    post:
      consumes:
      - application/json
      description: Create a new commande with associated menus and products
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.Commande'
      summary: Create a new commande
      tags:
      - commandes
  /api/commandes/{id}:
    delete:
      consumes:
      - application/json
      description: Delete an existing commande by ID
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.Commande'
      summary: Delete an existing commande
      tags:
      - commandes
    get:
      consumes:
      - application/json
      description: Get a commande by its ID with associated menus and products
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.Commande'
      summary: Get a commande by ID
      tags:
      - commandes
    put:
      consumes:
      - application/json
      description: Update an existing commande with new data
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.Commande'
      summary: Update an existing commande
      tags:
      - commandes
  /api/menus:
    get:
      consumes:
      - application/json
      description: Retrieve a list of all menus with their associated items
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Menu'
            type: array
      summary: Get all menus with their items
      tags:
      - menus
    post:
      consumes:
      - application/json
      description: Create a new menu with associated products
      parameters:
      - description: Menu data
        in: body
        name: menu
        required: true
        schema:
          $ref: '#/definitions/controllers.MenuInput'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.Menu'
      summary: Create a new menu
      tags:
      - menus
  /api/products:
    post:
      consumes:
      - application/json
      description: Create a new product and return it
      parameters:
      - description: Product data
        in: body
        name: product
        required: true
        schema:
          $ref: '#/definitions/models.Product'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.Product'
      summary: Create a new product
      tags:
      - products
  /auth/login:
    post:
      consumes:
      - application/json
      description: Retourne un token JWT si les identifiants sont valides
      parameters:
      - description: Email et mot de passe
        in: body
        name: credentials
        required: true
        schema:
          additionalProperties:
            type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Connexion utilisateur
      tags:
      - auth
  /auth/register:
    post:
      consumes:
      - application/json
      description: Crée un utilisateur avec mot de passe hashé
      parameters:
      - description: Données utilisateur
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/models.User'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Enregistrer un utilisateur
      tags:
      - auth
  /products:
    get:
      description: Retrieve a list of all products
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Product'
            type: array
      summary: Get all products
      tags:
      - products
  /products/{id}:
    delete:
      description: Delete an existing product by its ID
      parameters:
      - description: Product ID
        in: path
        name: id
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Delete a product
      tags:
      - products
    get:
      description: Retrieve a single product by its ID
      parameters:
      - description: Product ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Product'
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get a product by ID
      tags:
      - products
    put:
      consumes:
      - application/json
      description: Update an existing product by its ID
      parameters:
      - description: Product ID
        in: path
        name: id
        required: true
        type: integer
      - description: Updated product data
        in: body
        name: product
        required: true
        schema:
          $ref: '#/definitions/models.Product'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Product'
      summary: Update a product
      tags:
      - products
  /products/{id}/soft:
    delete:
      description: Soft delete an existing product by its ID (sets deleted_at)
      parameters:
      - description: Product ID
        in: path
        name: id
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Soft delete a product
      tags:
      - products
  /users:
    get:
      description: Retourne tous les utilisateurs
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.User'
            type: array
      summary: Liste des utilisateurs
      tags:
      - users
    post:
      consumes:
      - application/json
      description: Ajoute un nouvel utilisateur en base
      parameters:
      - description: Utilisateur à créer
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/models.User'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.User'
      summary: Créer un utilisateur
      tags:
      - users
  /users/{id}:
    delete:
      description: Marque un utilisateur comme supprimé
      parameters:
      - description: ID utilisateur
        in: path
        name: id
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Supprimer un utilisateur (soft delete)
      tags:
      - users
    get:
      description: Retourne un utilisateur selon son ID
      parameters:
      - description: ID utilisateur
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.User'
      summary: Récupérer un utilisateur
      tags:
      - users
    put:
      consumes:
      - application/json
      description: Modifie les informations d’un utilisateur existant
      parameters:
      - description: ID utilisateur
        in: path
        name: id
        required: true
        type: integer
      - description: Données utilisateur
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/models.User'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.User'
      summary: Mettre à jour un utilisateur
      tags:
      - users
swagger: "2.0"
